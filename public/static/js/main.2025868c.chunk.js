(this["webpackJsonpreact-app1"]=this["webpackJsonpreact-app1"]||[]).push([[0],{18:function(e,t,n){},19:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),a=n(12),o=n.n(a),r=(n(18),n(3)),i=(n(19),n(4)),l=n(2),j=n(0),d=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"This is home"})})})},u=n(5),b=n.n(u),h=n(6),p=n(9),O=n(8),m=function(){var e,t,n=Object(l.g)(),c=Object(s.useState)({username:"",email:"",password:"",cpassword:""}),a=Object(r.a)(c,2),o=a[0],i=a[1],d=function(n){e=n.target.name,t=n.target.value,i(Object(O.a)(Object(O.a)({},o),{},Object(p.a)({},e,t)))};function u(){return(u=Object(h.a)(b.a.mark((function e(t){var s,c,a,r,i,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=o.username,c=o.email,a=o.password,r=o.cpassword,e.next=4,fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,email:c,password:a,cpassword:r})});case 4:return i=e.sent,e.next=7,i.json();case 7:l=e.sent,422!==i.status&&l?(console.log("activation of mail required"),n("...",{replace:!0}),n("/activate-account/")):console.log(l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"back",children:Object(j.jsxs)("div",{id:"login-box",children:[Object(j.jsx)("form",{className:"register-form",method:"POST",id:"register-form",children:Object(j.jsxs)("div",{className:"left",children:[Object(j.jsx)("h1",{className:"signupH1",children:"Sign up"}),Object(j.jsx)("input",{type:"text",name:"username",id:"username",placeholder:"Username",autoComplete:"off",value:o.username,onChange:d}),Object(j.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"E-mail",autoComplete:"off",value:o.email,onChange:d}),Object(j.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",autoComplete:"off",value:o.password,onChange:d}),Object(j.jsx)("input",{type:"password",name:"cpassword",id:"cpassword",placeholder:"Retype password",autoComplete:"off",value:o.cpassword,onChange:d}),Object(j.jsx)("input",{type:"submit",name:"signup",value:"Sign me up",id:"signup",onClick:function(e){return u.apply(this,arguments)}})]})}),Object(j.jsxs)("div",{className:"right",children:[Object(j.jsxs)("span",{className:"loginwith my-3",children:["Sign in with",Object(j.jsx)("br",{}),"social network"]}),Object(j.jsx)("button",{className:"social-signin facebook",children:"Log in with facebook"}),Object(j.jsx)("button",{className:"social-signin twitter",children:"Log in with Twitter"}),Object(j.jsx)("button",{className:"social-signin google",children:"Log in with Google+"})]}),Object(j.jsx)("div",{className:"or",children:"OR"})]})})})},g=n(13);var x=function(){var e,t,n=Object(s.useContext)(P),c=(n.state,n.dispatch),a=Object(l.g)(),o=Object(s.useState)({email:"",password:""}),d=Object(r.a)(o,2),u=d[0],m=d[1],x=function(n){e=n.target.name,t=n.target.value,m(Object(O.a)(Object(O.a)({},u),{},Object(p.a)({},e,t)))};function f(){return(f=Object(h.a)(b.a.mark((function e(t){var n,s,o,r,i,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=u.email,s=u.password,e.next=4,fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:s})});case 4:return 429===(o=e.sent).status&&window.alert("Too many requests from same IP,Please wait few seconds and try again"),e.next=8,o.json();case 8:r=e.sent,console.log(r),200===o.status?(console.log("Login successful"),console.log("res:",o,"if an cokkie? ",r),i=new Date,(l=new Date).setMinutes(i.getMinutes()+10),localStorage.setItem("tokenExpiry","".concat(l.valueOf())),console.log(i,l),c({type:"USER",payload:!0}),a("...",{replace:!0}),a("/")):console.log(r);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("GoogleSuccess1"),e.next=3,fetch("/googleAuth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tokenId:t.tokenId})});case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,console.log(s),c({type:"USER",payload:!0}),a("...",{replace:!0}),a("/");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("GoogleFail1",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"back",children:Object(j.jsxs)("div",{id:"login-box",children:[Object(j.jsx)("form",{className:"login-form",method:"POST",id:"login-form",children:Object(j.jsxs)("div",{className:"right",children:[Object(j.jsx)("h1",{className:"loginH1",children:"Login here"}),Object(j.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"E-mail",value:u.email,onChange:x}),Object(j.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",autoComplete:"off",value:u.password,onChange:x}),Object(j.jsx)("input",{type:"submit",name:"signup_submit",value:"Login",onClick:function(e){return f.apply(this,arguments)}})]})}),Object(j.jsxs)("div",{className:"left-login",children:[Object(j.jsx)("span",{className:"loginwith "}),Object(j.jsx)("button",{className:"social-signin facebook",children:"Log in with facebook"}),Object(j.jsx)("button",{className:"social-signin twitter",children:"Log in with Twitter"}),Object(j.jsx)("div",{children:Object(j.jsx)(g.GoogleLogin,{clientId:"981651724564-lhl0q94397rk4s46i2311ot6h6k6j5bm.apps.googleusercontent.com",render:function(e){return Object(j.jsx)("button",{onClick:e.onClick,className:"social-signin google",disabled:e.disabled,children:"Sign In with Google"})},buttonText:"Login",onSuccess:v,onFailure:w,cookiePolicy:"single_host_origin"})})]}),Object(j.jsx)("div",{className:"or",children:"OR"}),Object(j.jsx)("div",{className:"bottom",children:Object(j.jsx)(i.b,{to:"/forgot-password",children:Object(j.jsx)("span",{children:"Forgot password?"})})})]})})},f=function(e){var t=Object(l.h)().slug,n=e.shoes[t];if(!n)return Object(j.jsx)("h2",{children:"Shoe Not found"});var s=n.name,c=n.img;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:s}),Object(j.jsx)("img",{src:c,alt:s})]})},v=n.p+"static/media/user-profile-default.6537f30a.png",w=function(e){var t,n=Object(s.useContext)(P),c=(n.state,n.dispatch),a=Object(l.g)(),o=Object(s.useState)((function(){return console.log("intial state called"),{email:""}})),i=Object(r.a)(o,2),d=i[0],u=i[1],p=function(){var e=Object(h.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("call about page render"),e.next=4,fetch("/about",{method:"GET",headers:{Accept:"application/json","Content-type":"application/json"},credentials:"include"});case 4:return 429===(t=e.sent).status&&window.alert("Too many requests from same IP,Please wait few seconds and try again"),e.next=8,t.json();case 8:return n=e.sent,console.log(n),e.next=12,u(n);case 12:if(200!==!t.status){e.next=18;break}throw console.log("unauthorised"),new Error(t.error);case 18:e.next=28;break;case 20:e.prev=20,e.t0=e.catch(0),console.log("error45:",e.t0),console.log("error 401 "),c({type:"USER",payload:!1}),window.alert("Please Login"),a("...",{replace:!0}),a("/login");case 28:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){p()}),[]),t=d.imgUrl?d.imgUrl:v,Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"back",children:Object(j.jsxs)("div",{id:"login-box",children:[Object(j.jsx)("form",{className:"login-form",method:"GET",id:"login-form",children:Object(j.jsxs)("div",{className:"right",children:[Object(j.jsx)("h1",{className:"loginH1",children:"Your info"}),Object(j.jsxs)("p",{children:["Email:",d.email]}),Object(j.jsxs)("p",{children:["Username:",d.username]})]})}),Object(j.jsxs)("div",{className:"left-login",children:[Object(j.jsx)("span",{className:"loginwith "}),Object(j.jsx)("img",{src:t,width:"100px",alt:""})]}),Object(j.jsx)("div",{className:"or",children:"/"})]})})})},y=function(){var e=Object(s.useContext)(P),t=(e.state,e.dispatch),n=Object(l.g)();return Object(s.useEffect)((function(){fetch("logout",{method:"GET",headers:{Accept:"application/json","Content-type":"application/json"},credentials:"include"}).then((function(e){if(t({type:"USER",payload:!1}),localStorage.clear(),n("...",{replace:!0}),n("/login"),200!==e.status)throw new Error(e.error)})).catch((function(e){console.log(e)}))}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("h1",{children:"Logout page"})})},N=function(){var e=Object(s.useContext)(P),t=e.state;e.dispatch;return t?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("span",{children:"Home"})}),Object(j.jsx)(i.b,{to:"/Launch",children:Object(j.jsx)("span",{children:"Launch"})}),Object(j.jsx)(i.b,{to:"/about",children:Object(j.jsx)("span",{children:"About"})}),Object(j.jsx)(i.b,{to:"/logout",children:Object(j.jsx)("span",{children:"Logout"})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(i.b,{to:"/",children:Object(j.jsx)("span",{children:"Home"})}),Object(j.jsx)(i.b,{to:"/launch",children:Object(j.jsx)("span",{children:"Launch"})}),Object(j.jsx)(i.b,{to:"/signUp",children:Object(j.jsx)("span",{children:"SignUp"})}),Object(j.jsx)(i.b,{to:"/login",children:Object(j.jsx)("span",{children:"Login"})})]})},S=function(){var e,t=Object(l.h)().slug;console.log("slug:",t);var n=Object(l.g)(),c=function(){var s=Object(h.a)(b.a.mark((function s(){var c,a;return b.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,e="Please wait while we activate your acoount",s.next=4,fetch("/AuthMail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({signUpToken:t})});case 4:c=s.sent,a=c.json(),console.log(a),201===c.status&&(n("...",{replace:!0}),n("/signup-success")),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),console.log(s.t0);case 13:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(){return s.apply(this,arguments)}}();return Object(s.useEffect)((function(){t&&c()}),[]),Object(j.jsx)("div",{children:e})},k=function(){var e,t,n=Object(s.useState)(!0),c=Object(r.a)(n,2),a=c[0],o=c[1],i=Object(s.useState)({email:""}),l=Object(r.a)(i,2),d=l[0],u=l[1],m=d.email,g=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m})});case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,console.log(s),429===n.status&&window.alert("To many requests"),200===n.status?(o(!1),console.log("forgotPassRender=",a)):404===n.status&&window.alert("Invalid user");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"back",children:Object(j.jsx)("div",{id:"login-box",children:Object(j.jsx)("form",{className:"login-form",method:"POST",id:"login-form",children:Object(j.jsxs)("div",{className:"center",children:[a&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{className:"loginH1",children:"Enter your registered Email"}),Object(j.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"E-mail",value:m,onChange:function(n){e=n.target.name,t=n.target.value,u(Object(O.a)(Object(O.a)({},d),{},Object(p.a)({},e,t)))}}),Object(j.jsx)("input",{type:"submit",name:"signup_submit",value:"Verify",onClick:g})]}),a||Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{children:"Please check your registered email for reset password Link"})})]})})})})},C=function(){var e=Object(s.useState)(!0),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(!1),o=Object(r.a)(a,2),d=o[0],u=o[1],m=Object(l.h)().slug.split("-NovelPlusUser=");console.log("token:",m[0],"email:",m[1]);var g,x,f=Object(s.useState)({password:"",cpassword:""}),v=Object(r.a)(f,2),w=v[0],y=v[1],N=function(e){g=e.target.name,x=e.target.value,y(Object(O.a)(Object(O.a)({},w),{},Object(p.a)({},g,x)))},S=w.password,k=w.cpassword,C=function(){var e=Object(h.a)(b.a.mark((function e(t){var n,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),S!==k){e.next=12;break}return e.next=4,fetch("/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"".concat(m[1]),password:S,resetToken:"".concat(m[0])})});case 4:return n=e.sent,e.next=7,n.json();case 7:s=e.sent,console.log(s),200===n.status?(c(!1),u(!0)):400===n.status&&(window.alert("Invalid user"),c(!1),u(!0)),e.next=13;break;case 12:console.log("passwordNot Match");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"back",children:Object(j.jsx)("div",{id:"login-box",children:Object(j.jsx)("div",{className:"login-form",children:Object(j.jsxs)("div",{className:"center",children:["Password reset successful ",Object(j.jsx)("br",{}),Object(j.jsx)("span",{children:Object(j.jsx)(i.b,{to:"/login",children:Object(j.jsx)("span",{children:"login here"})})})]})})})})}):n&&m[0]&&m[1]?Object(j.jsx)("div",{className:"back",children:Object(j.jsx)("div",{id:"login-box",children:Object(j.jsx)("form",{className:"login-form",method:"POST",id:"login-form",children:Object(j.jsxs)("div",{className:"left",children:[Object(j.jsx)("h1",{className:"loginH1",children:"Please enter new password"}),Object(j.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",autoComplete:"off",value:w.password,onChange:N}),Object(j.jsx)("input",{type:"password",name:"cpassword",id:"cpassword",placeholder:"Retype password",autoComplete:"off",value:w.cpassword,onChange:N}),S.length<8?Object(j.jsx)("div",{className:"small",children:"password too short"}):S!==k?Object(j.jsx)("div",{className:"small",children:"Password do not match"}):Object(j.jsx)("input",{type:"submit",name:"signup_submit",value:"Reset",onClick:C})]})})})}):Object(j.jsx)("div",{className:"back",children:Object(j.jsx)("div",{id:"login-box",children:Object(j.jsx)("form",{className:"login-form",method:"POST",id:"login-form",children:Object(j.jsx)("div",{className:"center",children:Object(j.jsx)("div",{children:"invalid or expired link"})})})})})},E=(n(22),function(e,t){return"USER"===t.type?t.payload:e}),P=Object(s.createContext)();var T=function(){var e=Object(s.useReducer)(E,null),t=Object(r.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){!function(){var e=new Date;if(null!=localStorage.getItem("tokenExpiry")){var t=parseFloat(localStorage.getItem("tokenExpiry"));e.valueOf()>t?(console.log("user have to login again"),c({type:"USER",payload:!1}),localStorage.clear()):c({type:"USER",payload:!0})}else console.log("user have to login again"),c({type:"USER",payload:!1})}()}),[]),Object(j.jsx)(P.Provider,{value:{state:n,dispatch:c},children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)("nav",{children:Object(j.jsx)(N,{})}),Object(j.jsxs)(l.d,{children:[Object(j.jsx)(l.b,{path:"/",element:Object(j.jsx)(d,{})}),Object(j.jsxs)(l.b,{path:"/Launch",element:Object(j.jsx)(U,{}),children:[Object(j.jsx)(l.b,{path:"",element:Object(j.jsx)(_,{})}),Object(j.jsx)(l.b,{path:":slug",element:Object(j.jsx)(f,{shoes:I})})]}),Object(j.jsx)(l.b,{path:"/signUp",element:Object(j.jsx)(m,{})}),Object(j.jsxs)(l.b,{path:"/activate-account",element:Object(j.jsx)(R,{}),children:[Object(j.jsx)(l.b,{path:"",element:Object(j.jsx)(L,{})}),Object(j.jsx)(l.b,{path:":slug",element:Object(j.jsx)(S,{})})]}),Object(j.jsx)(l.b,{path:"/signup-success",element:Object(j.jsx)(F,{})}),Object(j.jsx)(l.b,{path:"/login",element:Object(j.jsx)(x,{})}),Object(j.jsx)(l.b,{path:"/about",element:Object(j.jsx)(w,{})}),Object(j.jsx)(l.b,{path:"/logout",element:Object(j.jsx)(y,{})}),Object(j.jsx)(l.b,{path:"/forgot-password",element:Object(j.jsx)(k,{})}),Object(j.jsx)(l.b,{path:"/reset-password",element:Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(l.a,{})}),children:Object(j.jsx)(l.b,{path:":slug",element:Object(j.jsx)(C,{})})}),Object(j.jsx)(l.b,{path:"/googleAuth",element:Object(j.jsx)(j.Fragment,{})}),Object(j.jsx)(l.b,{path:"*",element:Object(j.jsx)(D,{})})]})]})})};function R(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(l.a,{})})}function L(){return Object(j.jsx)("div",{className:"back",children:Object(j.jsx)("div",{id:"login-box",children:Object(j.jsx)("form",{className:"login-form",method:"POST",id:"login-form",children:Object(j.jsx)("div",{className:"center",children:Object(j.jsx)("div",{children:"Please activate your email"})})})})})}function F(){var e=Object(l.g)(),t=Object(s.useState)(10),n=Object(r.a)(t,2),c=n[0],a=n[1];Object(s.useEffect)((function(){var e=setInterval((function(){a(c-1)}),1e3);return function(){clearInterval(e)}}));return Object(j.jsxs)(j.Fragment,{children:[void(c<=0&&(e("...",{replace:!0}),e("/login"))),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"Signup success"}),Object(j.jsx)("br",{}),Object(j.jsx)(i.b,{to:"/login",children:Object(j.jsx)("span",{children:"login here"})}),Object(j.jsxs)("span",{children:["or you'll get redirected to login page in ",c," seconds"]})]})]})}function U(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Launch"}),Object(j.jsx)(l.a,{})]})}function _(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("ul",{children:Object.entries(I).map((function(e){var t=Object(r.a)(e,2),n=t[0],s=t[1],c=s.name,a=s.img;return Object(j.jsx)("li",{children:Object(j.jsxs)(i.b,{to:"/Launch/".concat(n),children:[Object(j.jsx)("h2",{children:c}),Object(j.jsx)("img",{src:a,alt:c})]})},n)}))})})}function D(){return Object(j.jsx)("h1",{children:"No page Found"})}var I={"air-jordan-3-valor-blue":{name:"VALOUR BLUE",img:"https://secure-images.nike.com/is/image/DotCom/CT8532_104_A_PREM?$SNKRS_COVER_WD$&align=0,1"},"jordan-mars-270-london":{name:"JORDAN MARS 270 LONDON",img:"https://secure-images.nike.com/is/image/DotCom/CV3042_001_A_PREM?$SNKRS_COVER_WD$&align=0,1"},"air-jordan-1-zoom-racer-blue":{name:"RACER BLUE",img:"https://secure-images.nike.com/is/image/DotCom/CK6637_104_A_PREM?$SNKRS_COVER_WD$&align=0,1"}},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),s(e),c(e),a(e),o(e)}))};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(T,{})}),document.getElementById("root")),A()}},[[23,1,2]]]);
//# sourceMappingURL=main.2025868c.chunk.js.map